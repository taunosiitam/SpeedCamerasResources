import json

cameras = [
    {'lat': 58.40876, 'lon': 26.65162, 'bearing': 290, 'speed': 70, 'name': 'Tiksoja'},
    {'lat': 58.45081, 'lon': 24.50418, 'bearing': 30, 'speed': 90, 'name': 'Nurme'},
    {'lat': 58.52326, 'lon': 24.55956, 'bearing': 190, 'speed': 50, 'name': 'Are'},
    {'lat': 58.52548, 'lon': 24.55877, 'bearing': 330, 'speed': 50, 'name': 'Are'},
    {'lat': 58.55267, 'lon': 26.30002, 'bearing': 160, 'speed': 90, 'name': 'Altnurga'},
    {'lat': 58.59262, 'lon': 24.51236, 'bearing': 180, 'speed': 90, 'name': 'Loomse'},
    {'lat': 58.61238, 'lon': 24.51282, 'bearing': 180, 'speed': 90, 'name': 'Pärnu-Jaagupi'},
    {'lat': 58.61586, 'lon': 24.51241, 'bearing': 350, 'speed': 90, 'name': 'Pärnu-Jaagupi'},
    {'lat': 58.63036, 'lon': 26.14595, 'bearing': 130, 'speed': 90, 'name': 'Neanurme'},
    {'lat': 58.65849, 'lon': 24.47165, 'bearing': 140, 'speed': 70, 'name': 'Libatse'},
    {'lat': 58.65849, 'lon': 24.47165, 'bearing': 320, 'speed': 70, 'name': 'Libatse'},
    {'lat': 58.66285, 'lon': 25.99029, 'bearing': 120, 'speed': 50, 'name': 'Puhu'},
    {'lat': 58.66285, 'lon': 25.99029, 'bearing': 300, 'speed': 50, 'name': 'Puhu'},
    {'lat': 58.67381, 'lon': 24.44452, 'bearing': 140, 'speed': 90, 'name': 'Pallika'},
    {'lat': 58.67518, 'lon': 25.92456, 'bearing': 330, 'speed': 90, 'name': 'Mõhküla'},
    {'lat': 58.67629, 'lon': 24.44227, 'bearing': 0, 'speed': 90, 'name': 'Pallika'},
    {'lat': 58.69823, 'lon': 23.82811, 'bearing': 230, 'speed': 90, 'name': 'Lihula'},
    {'lat': 58.70302, 'lon': 23.84211, 'bearing': 70, 'speed': 90, 'name': 'Lihula'},
    {'lat': 58.73886, 'lon': 25.81843, 'bearing': 280, 'speed': 90, 'name': 'Imavere'},
    {'lat': 58.82989, 'lon': 25.74421, 'bearing': 150, 'speed': 90, 'name': 'Koigi'},
    {'lat': 58.83547, 'lon': 25.74178, 'bearing': 350, 'speed': 90, 'name': 'Koigi'},
    {'lat': 58.84894, 'lon': 25.73092, 'bearing': 130, 'speed': 90, 'name': 'Prandi'},
    {'lat': 58.86436, 'lon': 25.71072, 'bearing': 320, 'speed': 90, 'name': 'Nurmsi'},
    {'lat': 58.87692, 'lon': 25.69546, 'bearing': 140, 'speed': 70, 'name': 'Mäeküla'},
    {'lat': 58.95681, 'lon': 23.74171, 'bearing': 270, 'speed': 50, 'name': 'Taebla'},
    {'lat': 58.98275, 'lon': 23.98386, 'bearing': 270, 'speed': 90, 'name': 'Jaakna'},
    {'lat': 58.98536, 'lon': 25.59139, 'bearing': 0, 'speed': 90, 'name': 'Otiku'},
    {'lat': 59.00786, 'lon': 25.59571, 'bearing': 180, 'speed': 70, 'name': 'Anna'},
    {'lat': 59.02762, 'lon': 25.58102, 'bearing': 330, 'speed': 90, 'name': 'Nurme'},
    {'lat': 59.03421, 'lon': 25.55972, 'bearing': 110, 'speed': 90, 'name': 'Puiatu'},
    {'lat': 59.03702, 'lon': 25.54484, 'bearing': 270, 'speed': 90, 'name': 'Puiatu'},
    {'lat': 59.03855, 'lon': 25.44758, 'bearing': 320, 'speed': 90, 'name': 'Mustla'},
    {'lat': 59.10248, 'lon': 25.34161, 'bearing': 90, 'speed': 90, 'name': 'Ardu'},
    {'lat': 59.13871, 'lon': 24.32981, 'bearing': 190, 'speed': 90, 'name': 'Jaanika'},
    {'lat': 59.16588, 'lon': 25.27069, 'bearing': 270, 'speed': 90, 'name': 'Sõmeru'},
    {'lat': 59.17203, 'lon': 24.35442, 'bearing': 30, 'speed': 90, 'name': 'Hingu'},
    {'lat': 59.18140, 'lon': 24.78204, 'bearing': 30, 'speed': 70, 'name': 'Urge'},
    {'lat': 59.18140, 'lon': 24.78204, 'bearing': 210, 'speed': 70, 'name': 'Urge'},
    {'lat': 59.22861, 'lon': 24.45306, 'bearing': 60, 'speed': 90, 'name': 'Kabila'},
    {'lat': 59.22963, 'lon': 24.45757, 'bearing': 240, 'speed': 90, 'name': 'Kabila'},
    {'lat': 59.26017, 'lon': 24.74109, 'bearing': 180, 'speed': 90, 'name': 'Kirdalu'},
    {'lat': 59.26914, 'lon': 24.74093, 'bearing': 0, 'speed': 70, 'name': 'Kirdalu'},
    {'lat': 59.30162, 'lon': 24.74107, 'bearing': 210, 'speed': 90, 'name': 'Saustinõmme'},
    {'lat': 59.30352, 'lon': 24.63729, 'bearing': 330, 'speed': 70, 'name': 'Saku'},
    {'lat': 59.31671, 'lon': 24.44883, 'bearing': 240, 'speed': 70, 'name': 'Tutermaa'},
    {'lat': 59.33544, 'lon': 24.77368, 'bearing': 0, 'speed': 70, 'name': 'Luige'},
    {'lat': 59.33768, 'lon': 24.77401, 'bearing': 180, 'speed': 70, 'name': 'Luige'},
    {'lat': 59.34112, 'lon': 24.26778, 'bearing': 120, 'speed': 50, 'name': 'Kloogaranna'},
    {'lat': 59.34122, 'lon': 24.26607, 'bearing': 280, 'speed': 50, 'name': 'Kloogaranna'},
    {'lat': 59.36097, 'lon': 24.49625, 'bearing': 30, 'speed': 70, 'name': 'Kiia'},
    {'lat': 59.36097, 'lon': 24.49625, 'bearing': 220, 'speed': 70, 'name': 'Kiia'},
    {'lat': 59.37503, 'lon': 27.94170, 'bearing': 90, 'speed': 90, 'name': 'Hiiemetsa'},
    {'lat': 59.37826, 'lon': 27.95658, 'bearing': 230, 'speed': 90, 'name': 'Hiiemetsa'},
    {'lat': 59.37829, 'lon': 24.53806, 'bearing': 210, 'speed': 50, 'name': 'Hüüru'},
    {'lat': 59.37970, 'lon': 24.53950, 'bearing': 30, 'speed': 50, 'name': 'Hüüru'},
    {'lat': 59.38026, 'lon': 27.55159, 'bearing': 240, 'speed': 70, 'name': 'Voka'},
    {'lat': 59.38057, 'lon': 27.55358, 'bearing': 90, 'speed': 70, 'name': 'Voka'},
    {'lat': 59.38342, 'lon': 26.31848, 'bearing': 330, 'speed': 90, 'name': 'Rakvere'},
    {'lat': 59.39339, 'lon': 27.62285, 'bearing': 80, 'speed': 90, 'name': 'Konju'},
    {'lat': 59.39370, 'lon': 27.63073, 'bearing': 260, 'speed': 90, 'name': 'Konju'},
    {'lat': 59.40687, 'lon': 28.02968, 'bearing': 260, 'speed': 70, 'name': 'Vodava'},
    {'lat': 59.40702, 'lon': 28.03185, 'bearing': 100, 'speed': 70, 'name': 'Vodava'},
    {'lat': 59.41575, 'lon': 27.14544, 'bearing': 60, 'speed': 90, 'name': 'Aa'},
    {'lat': 59.42012, 'lon': 27.16963, 'bearing': 240, 'speed': 90, 'name': 'Aa'},
    {'lat': 59.42718, 'lon': 24.72062, 'bearing': None, 'speed': 50, 'name': 'Kristiine'},
    {'lat': 59.42719, 'lon': 24.72012, 'bearing': None, 'speed': 50, 'name': 'Kristiine'},
    {'lat': 59.43280, 'lon': 24.36630, 'bearing': 220, 'speed': 50, 'name': 'Vääna-Jõesuu'},
    {'lat': 59.43996, 'lon': 24.37147, 'bearing': 10, 'speed': 70, 'name': 'Vääna-Jõesuu'},
    {'lat': 59.44022, 'lon': 26.84435, 'bearing': 100, 'speed': 70, 'name': 'Rannu'},
    {'lat': 59.44022, 'lon': 26.84435, 'bearing': 270, 'speed': 70, 'name': 'Rannu'},
    {'lat': 59.44266, 'lon': 24.79390, 'bearing': 260, 'speed': 50, 'name': 'Russalka'},
    {'lat': 59.44284, 'lon': 24.79282, 'bearing': 80, 'speed': 50, 'name': 'Russalka'},
    {'lat': 59.44459, 'lon': 24.79710, 'bearing': 40, 'speed': 50, 'name': 'Russalka'},
    {'lat': 59.45417, 'lon': 24.44587, 'bearing': 100, 'speed': 50, 'name': 'Muraste'},
    {'lat': 59.45420, 'lon': 24.44312, 'bearing': 280, 'speed': 50, 'name': 'Muraste'},
    {'lat': 59.40843, 'lon': 24.68485, 'bearing': None, 'speed': 50, 'name': 'Test'}
]

with open('cameras.json', 'w', encoding='utf=8') as f:
    f.write(json.dumps(cameras, indent=2))

with open('cameras.html', 'w', encoding='utf=8') as f:
    f.write('<html lang="et">\n<head>\n<meta charset="UTF-8">\n<title>Kiiruskaamerad</title>\n</head>\n<body>\n<table>\n')
    for camera in cameras:
        f.write('<tr><td><a href="https://geoportaal.maaamet.ee/url/xgis-latlon.php?lat=%.5f&lon=%.5f&out=xgis" target="_blank">%.5fN %.5fE</a></td><td>%s %d %s</td></tr>\n'
                % (camera['lat'], camera['lon'], camera['lat'], camera['lon'], '-' if camera['bearing'] is None else str(camera['bearing']), camera['speed'], camera['name']))
    f.write('</table>\n</body>\n</html>\n')
